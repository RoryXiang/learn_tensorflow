<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function ba() {
    this.i = {}
}
var ea;
ea = "undefined" !== typeof window ? window : self;
function pa(b) {
    var a = qa;
    a.i[b] = a.w()
}
function ra(b, a) {
    var c = qa;
    return parseFloat((c.i[a] - c.i[b]).toFixed(2))
}
ba.prototype.w = ea.performance && ea.performance.now ? function() {
        return performance.now()
    }
    : function() {
        return Date.now()
    }
;
var ya, za, Da, Ea, Fa, Ga, A, Ha, Ia, Ra, Sa, Ta, Ua, Va, Wa, Xa, Ya, hb;
ArrayBuffer.prototype.slice || (ArrayBuffer.prototype.slice = function(b, a) {
        void 0 === b && (b = 0);
        void 0 === a && (a = this.byteLength);
        b = Math.floor(b);
        a = Math.floor(a);
        0 > b && (b += this.byteLength);
        0 > a && (a += this.byteLength);
        b = Math.min(Math.max(0, b), this.byteLength);
        a = Math.min(Math.max(0, a), this.byteLength);
        if (0 >= a - b)
            return new ArrayBuffer(0);
        var c = new ArrayBuffer(a - b)
            , q = new Uint8Array(c);
        b = new Uint8Array(this,b,a - b);
        q.set(b);
        return c
    }
);
function ib(b, a) {
    var c = b.length;
    a = a || 2;
    hb || (hb = A._get_feature_points_address() >> 2);
    Da.set(b, hb);
    A._parse_points(c, a);
    return new Float32Array(ya.slice(hb << 2, hb + c << 2))
}
function jb() {
    Ua || (Ua = A._get_line_vertex_start());
    return new Float32Array(ya.slice(Ua, A._get_line_vertex_end()))
}
function kb() {
    Ta || (Ta = A._get_line_index_start());
    return new Uint16Array(ya.slice(Ta, A._get_line_index_end()))
}
function lb() {
    return A._get_line_vertex_count()
}
function mb(b, a, c, q, h, f, g, u, w, p, m) {
    var k = 0;
    q && (k = q.length,
    Ia || (Ia = A._get_line_altitudes_address() >> 1),
        Fa.set(q, Ia));
    u && u.length && (Sa || (Sa = A._get_line_turnings_address()),
        za.set(u, Sa));
    h = h || 0;
    p = p || 0;
    m = m || g.length / 2;
    Ha || (Ha = A._get_line_data_address() >> 1);
    Fa.set(b, Ha);
    Ra || (Ra = A._get_line_points_address() >> 2);
    Ea.set(g, Ra);
    A._append_line_data(b.length, a[0], a[1], a[2], a[3], c, k, h, f ? 1 : 0, g.length, w, p, m)
}
function nb() {
    A._reset_line()
}
function ob(b) {
    if (ya)
        b && b();
    else {
        var a = pb();
        var c = new WebAssembly.Memory({
            initial: 70,
            maximum: 70
        });
        WebAssembly.instantiate(a, {
            env: {
                DYNAMICTOP_PTR: 0,
                tempDoublePtr: 0,
                ABORT: 0,
                STACKTOP: 0,
                STACK_MAX: 0,
                gb: 0,
                fb: 0,
                memory: c
            },
            global: {
                NaN: NaN,
                Infinity: Infinity
            }
        }).then(function(a) {
            ya = c.buffer;
            Da = new Float32Array(ya);
            Ea = new Int32Array(ya);
            za = new Int8Array(ya);
            Fa = new Int16Array(ya);
            Ga = new Uint16Array(ya);
            A = a.instance.exports;
            b && b()
        })
    }
}
function qb(b, a, c, q, h) {
    var f = {
        fixedLabel: [],
        lineLabel: []
    };
    if (!b)
        return f;
    var g = [];
    if (a && a.length)
        for (var u = 0; u < a.length; u++) {
            var w = a[u]
                , p = w[0] / 4;
            G[p + 1] === rb && g.push(R(G[p] + 1, w[0], w[0] + w[1]))
        }
    a = R(0, c[0], c[0] + c[1]) || [];
    q = q.height;
    f.fixedLabel = sb(b, g, q, h, void 0);
    g = [];
    for (c = 0; c < a.length; c++) {
        var m = b
            , k = a[c];
        u = h;
        w = q;
        p = g;
        var d = k[0] / 4
            , v = R(G[d] + 1, k[0], k[0] + k[1])
            , r = R(0, v[6][0], v[6][0] + v[6][1]);
        k = [];
        for (var l = 0; l < r.length; l++)
            k[l] = new Uint16Array(m,r[l][0],r[l][1] / 2);
        r = tb;
        var n = Math.pow(2, 18 - u.zoom)
            , t = u.col * u.baseTileSize * n
            , e = u.row * u.baseTileSize * n
            , D = new Uint16Array(m,v[4][0],v[4][1] / 2)
            , y = D.length
            , x = ub[d + 1]
            , z = S.b(V, x, "pointText", u.useZoom, Y, !1, Z);
        d = ub[d + 2];
        var I = vb(m, v[0][0], v[0][1], "utf-8")
            , B = k.length || I.split("").length;
        if (0 !== B) {
            var F = new Int32Array(m,v[1][0],v[1][1] / 4)
                , H = new Int16Array(m,v[5][0],v[5][1] / 2)
                , J = [H[0]]
                , W = Array.prototype.slice.call(F.slice(0, 2))
                , L = 2;
            for (l = 1; L < F.length; L += 2,
                l++)
                W[L] = W[L - 2] + F[L],
                    W[L + 1] = W[L - 1] + F[L + 1],
                    1 === H.length ? J[l] = H[0] : 1 < H.length && (J[l] = J[l - 1] + H[l]);
            var sa = new Uint16Array(m,v[3][0],v[3][1] / 2);
            m = new Uint16Array(m,v[2][0],v[2][1] / 2);
            for (l = 0; l < y; l++)
                if (v = D[l],
                    wb(v, u.useZoom)) {
                    if (u.processedLabelZooms && u.processedLabelZooms.length) {
                        F = u.processedLabelZooms;
                        var O = !1;
                        for (L = 0; L < F.length; L++)
                            if (wb(v, F[L])) {
                                O = !0;
                                break
                            }
                        if (O)
                            continue
                    }
                    L = sa[l];
                    F = l * B * 2;
                    F = W.slice(F, F + 2 * B);
                    var K = O = 1E3
                        , P = -1E3
                        , T = -1E3
                        , N = k.slice(0);
                    L && N.reverse();
                    for (var M, E, C, ca = [], Q = 0; Q < B; Q++) {
                        var Za = m[B * l + Q]
                            , fa = F[2 * Q] / 100
                            , ja = F[2 * Q + 1] / 100
                            , Ja = 0;
                        0 < H.length && (Ja = J[l * B] / 100);
                        0 === Q && (M = fa,
                            E = ja,
                            C = {
                                lng: t + M,
                                lat: e + E
                            });
                        fa = (fa - M) / n;
                        ja = (ja - E) / n;
                        var U = N[Q]
                            , aa = null
                            , Ka = null;
                        if (U && 0 < U.length) {
                            var ta = U[0];
                            aa = U[1];
                            var ha = U[2] / r;
                            U = U[3] / r;
                            Ka = [ha, U];
                            var ia = ta / 512
                                , ka = (w - aa - U * r) / w
                                , $a = ta = (ta + ha * r) / 512;
                            aa = (w - aa) / w;
                            aa = [ia, ka, ta, ka, $a, aa, ia, ka, $a, aa, ia, aa];
                            ia = fa - ha / 2;
                            ka = ja + U / 2;
                            U = ja - U / 2;
                            ha = fa + ha / 2;
                            ia < O && (O = ia);
                            ha > P && (P = ha);
                            U < K && (K = U);
                            ka > T && (T = ka)
                        }
                        ca.push({
                            offset: [fa, ja],
                            z: Ja,
                            size: Ka,
                            angle: Za,
                            texcoord: aa
                        })
                    }
                    N = F[2 * (B - 1)] - F[0];
                    F = F[2 * (B - 1) + 1] - F[1];
                    1 === L && (N = -N,
                        F = -F);
                    0 === N ? F = 0 < F ? 90 : 270 : (Q = Math.atan(F / N) / Math.PI * 180,
                        0 > N && 0 < F ? Q += 180 : 0 > N && 0 > F ? Q += 180 : 0 < N && 0 > F && (Q += 360),
                    360 === Q && (Q = 0),
                        F = Q);
                    p.push({
                        type: "line",
                        rank: d,
                        name: I,
                        wordCount: B,
                        pt: C,
                        mcInTile: {
                            x: M,
                            y: E
                        },
                        reverse: L,
                        styleId: x,
                        styleText: z,
                        bds: [O, K, P, T],
                        wordsInfo: ca,
                        labelAngle: F,
                        tracer: v,
                        processedInZoom: u.useZoom,
                        key: "line_" + d + "_" + C.R + "_" + C.P
                    })
                }
        }
    }
    f.lineLabel = g;
    f.textureHeight = q;
    f.tileInfo = h;
    return f
}
function sb(b, a, c, q, h) {
    for (var f = [], g = 0; g < a.length; g++) {
        var u = b
            , w = a[g]
            , p = q
            , m = c
            , k = f
            , d = h;
        if (w && w.length) {
            d = d || Y;
            var v = p.useZoom;
            9 === v && (v = 8);
            for (var r = Math.pow(2, 18 - p.zoom), l = p.col * p.baseTileSize * r, n = p.row * p.baseTileSize * r, t = 0; t < w.length; t++) {
                var e = w[t]
                    , D = e[0] / 4
                    , y = G[D]
                    , x = G[D + 1]
                    , z = S.b(V, x, "point", v, d, !1, Z)
                    , I = S.b(V, x, "pointText", v, d, !1, Z)
                    , B = R(y + 1, e[0], e[0] + e[1]);
                if (!(I && 0 !== I.length || z && 0 !== z.length))
                    if (5 === v) {
                        if (!B || !B.length)
                            continue;
                        for (var F = 0; F < B.length; F++) {
                            var H = B[F], J = H[0] / 4, W = G[J], L = R(W + 1, H[0], H[0] + H[1]), sa;
                            H[1] && L[1][1] && (sa = vb(u, L[1][0], L[1][1], "utf-8"));
                            if ("\u5317\u4eac" === sa) {
                                z = S.b(V, x, "point", 6, d, !1, Z);
                                I = S.b(V, x, "pointText", 6, d, !1, Z);
                                break
                            }
                        }
                    } else
                        continue;
                if (B) {
                    var O = null
                        , K = 1
                        , P = 0
                        , T = 0;
                    z && z[0] && (z = z[0],
                        O = z.icon,
                        K = (z.zoom || 100) / 100);
                    for (F = 0; F < B.length; F++)
                        if (H = B[F],
                            J = H[0] / 4,
                            W = G[J],
                            L = R(W + 1, H[0], H[0] + H[1]),
                            H[1]) {
                            var N = G[J + 1];
                            if (wb(N, p.useZoom)) {
                                if (p.processedLabelZooms && p.processedLabelZooms.length) {
                                    for (var M = p.processedLabelZooms, E = !1, C = 0; C < M.length; C++)
                                        if (wb(N, M[C])) {
                                            E = !0;
                                            break
                                        }
                                    if (E)
                                        continue
                                }
                                var ca = R(0, L[2][0], L[2][0] + L[2][1])
                                    , Q = [];
                                for (C = 0; C < ca.length; C++)
                                    Q[C] = new Uint16Array(u,ca[C][0],ca[C][1]);
                                var Za = void 0;
                                L[1][1] && (Za = vb(u, L[1][0], L[1][1], "utf-8"));
                                var fa = Za || "";
                                if (!(I && 0 < I.length && 0 === Q.length && "" === fa)) {
                                    var ja = G[J + 2]
                                        , Ja = G[J + 3]
                                        , U = G[J + 4]
                                        , aa = {
                                        lng: l + Math.round(ja / 100),
                                        lat: n + Math.round(Ja / 100)
                                    }
                                        , Ka = void 0;
                                    L[0][1] && (Ka = vb(u, L[0][0], L[0][1], void 0));
                                    var ta = G[J + 5]
                                        , ha = 0 < Q.length || "" !== fa && 0 < I.length
                                        , ia = xb(O)
                                        , ka = !(4 !== ta || !ha || !ia)
                                        , $a = !!fa.match(/[qypjg]/g)
                                        , yc = Ka || ""
                                        , zc = aa
                                        , Ac = fa
                                        , Bc = $a
                                        , Cc = U
                                        , Dc = x
                                        , Ec = I
                                        , Fc = O
                                        , Gc = ka
                                        , Hc = ta
                                        , Ic = w.T;
                                    a: {
                                        var ua = void 0
                                            , ab = N
                                            , ac = p.useZoom;
                                        yb[ab] || (ua = ab.toString(2),
                                        8 > ua.length && (ua = Array(8 - ua.length + 1).join("0") + ua),
                                            yb[ab] = ua);
                                        ua = yb[ab];
                                        for (var bc = zb[ac].start, Jc = zb[ac].end - bc + 1, bb = 0; bb < Jc; bb++)
                                            if ("1" === ua[bb]) {
                                                var cc = bb + bc;
                                                break a
                                            }
                                        cc = 99
                                    }
                                    var X = {
                                        type: "fixed",
                                        guid: yc,
                                        pt: zc,
                                        name: Ac,
                                        containDescendings: Bc,
                                        rank: Cc,
                                        iconPos: null,
                                        textPos: null,
                                        styleId: Dc,
                                        styleText: Ec,
                                        icon: Fc,
                                        textOnIcon: Gc,
                                        direction: Hc,
                                        onDefaultFloor: Ic,
                                        startZoom: cc || 99,
                                        tilePosStr: ja + "," + Ja,
                                        tracer: N,
                                        processedInZoom: p.useZoom,
                                        key: "fixed_" + U + "_" + aa.R + "_" + aa.P
                                    };
                                    if (null === O || ka)
                                        null !== O && (X.iconSize = ia);
                                    else {
                                        var Bb = xb(O);
                                        if (Bb) {
                                            var Cb = Bb[0] / 2 * K
                                                , Db = Bb[1] / 2 * K
                                                , cb = Math.round(-Cb / 2)
                                                , db = Math.round(-Db / 2)
                                                , Eb = cb + Cb
                                                , Fb = db + Db;
                                            var dc = {
                                                vertex: [cb, db, Eb, db, Eb, Fb, cb, db, Eb, Fb, cb, Fb],
                                                texcoord: null,
                                                width: Cb,
                                                height: Db,
                                                iconType: O
                                            }
                                        } else
                                            dc = null;
                                        X.iconPos = dc;
                                        X.iconPos && (P = X.iconPos.width,
                                            T = X.iconPos.height)
                                    }
                                    if (Q.length) {
                                        var Kc = X
                                            , eb = ta
                                            , Gb = Q
                                            , Hb = P
                                            , ec = T
                                            , fb = m
                                            , La = tb;
                                        "number" !== typeof eb && (eb = 0);
                                        for (var Aa = Gb.length, fc = [], gc = [], Ba = 0, Ma = 0, da = 0; da < Aa; da++)
                                            Ma += Math.round(Gb[da][3] / La);
                                        for (da = 0; da < Aa; da++) {
                                            var gb = Gb[da]
                                                , hc = gb[0]
                                                , ic = gb[1]
                                                , Ca = Math.round(gb[2] / La)
                                                , wa = Math.round(gb[3] / La);
                                            0 === Hb && (eb = 4);
                                            switch (eb) {
                                                case 3:
                                                    var la = Ma / 2 - wa + 2 * (Aa - 1) / 2;
                                                    var va = Math.round(-Hb / 2 - Ca - 2);
                                                    var xa = Math.round(la - Ba - 2 * da);
                                                    break;
                                                case 1:
                                                    la = Ma / 2 - wa + 2 * (Aa - 1) / 2;
                                                    va = Math.round(Hb / 2 + 2);
                                                    xa = Math.round(la - Ba - 2 * da);
                                                    break;
                                                case 2:
                                                    la = ec / 2 + Ma - wa + 2 * Aa;
                                                    va = Math.round(-Ca / 2);
                                                    xa = Math.round(la - Ba - 2 * da);
                                                    break;
                                                case 0:
                                                    la = -ec / 2 - 2 - wa;
                                                    va = Math.round(-Ca / 2);
                                                    xa = Math.round(la - Ba - 2 * da);
                                                    break;
                                                case 4:
                                                    la = -Ma / 2 - 2 * (Aa - 1) / 2,
                                                        va = Math.round(-Ca / 2),
                                                        xa = Math.round(la - Ba - 2 * da)
                                            }
                                            Ba += wa;
                                            var jc = va + Math.round(Ca)
                                                , kc = xa
                                                , lc = jc
                                                , Ib = kc + Math.round(wa)
                                                , Jb = hc / 512
                                                , Kb = (fb - ic - wa * La) / fb
                                                , mc = (hc + Ca * La) / 512
                                                , Lc = Kb
                                                , nc = mc
                                                , Lb = (fb - ic) / fb
                                                , Mc = Jb
                                                , Nc = Lb;
                                            fc.push(va, xa, jc, kc, lc, Ib, va, xa, lc, Ib, va, Ib);
                                            gc.push(Jb, Kb, mc, Lc, nc, Lb, Jb, Kb, nc, Lb, Mc, Nc)
                                        }
                                        Kc.textPos = {
                                            vertex: fc,
                                            texcoord: gc
                                        }
                                    }
                                    if (X.textPos || X.iconPos) {
                                        var Na = 1E3
                                            , Oa = 1E3
                                            , Pa = -1E3
                                            , Qa = -1E3;
                                        if (X.iconPos)
                                            for (var Mb = X.iconPos.vertex, ma = 0, Nb = Mb.length; ma < Nb; ma += 2) {
                                                var na = Mb[ma]
                                                    , oa = Mb[ma + 1];
                                                na < Na && (Na = na);
                                                na > Pa && (Pa = na);
                                                oa < Oa && (Oa = oa);
                                                oa > Qa && (Qa = oa)
                                            }
                                        if (X.textPos) {
                                            var Ob = X.textPos.vertex;
                                            ma = 0;
                                            for (Nb = Ob.length; ma < Nb; ma += 2)
                                                na = Ob[ma],
                                                    oa = Ob[ma + 1],
                                                na < Na && (Na = na),
                                                na > Pa && (Pa = na),
                                                oa < Oa && (Oa = oa),
                                                oa > Qa && (Qa = oa)
                                        }
                                        X.bds = [Na, Oa, Pa, Qa]
                                    }
                                    (ia || ha) && k.push(X)
                                }
                            }
                        }
                }
            }
        }
    }
    return f
}
function xb(b) {
    if (!b || "disekong" === b)
        return null;
    var a = Ab[b];
    a || 48 <= b.charCodeAt(0) && 57 >= b.charCodeAt(0) && (a = Ab["_" + b]);
    return a
}
var Pb;
Pb = function(b, a, c, q) {
    var h, f;
    a = R(0, a[0], a[0] + a[1]);
    if (!a.length)
        return {};
    for (var g = {}, u = [], w = [], p = [], m = [], k = 0; k < a.length; k++) {
        var d = R(0, a[k][0], a[k][0] + a[k][1])
            , v = d[0];
        v = R(0, v[0], v[0] + v[1]);
        d = d[1];
        var r = R(G[d[0] >> 2] + 1, d[0], d[0] + d[1]);
        a: {
            var l = b;
            if ((h = R(0, r[2][0], r[2][0] + r[2][1])) && h[0]) {
                for (var n = 0; n < h.length; n++) {
                    var t = h[n]
                        , e = t[0] >> 2;
                    e = G[e];
                    t = R(e + 1, t[0], t[0] + t[1]);
                    if (!t[0][1]) {
                        l = [];
                        h = [0, 0];
                        var D = f = void 0;
                        break a
                    }
                }
                f = [];
                var y = [0, 0]
                    , x = [2.003772637E7, 1.102819087E7];
                d = [-2.003772637E7, -1.060158079E7];
                D = 0;
                n = c.mercatorSize;
                var z = c.col * n
                    , I = c.row * n;
                for (n = 0; n < h.length; n++) {
                    t = h[n];
                    e = t[0] >> 2;
                    e = G[e];
                    t = R(e + 1, t[0], t[0] + t[1]);
                    t = new Int32Array(l,t[0][0],t[0][1] >> 2);
                    e = [z + t[0] / 100, I + t[1] / 100];
                    y[0] += e[0];
                    y[1] += e[1];
                    e[0] < x[0] && (x[0] = e[0]);
                    e[1] < x[1] && (x[1] = e[1]);
                    e[0] > d[0] && (d[0] = e[0]);
                    e[1] > d[1] && (d[1] = e[1]);
                    for (var B = 2; B < t.length; B += 2)
                        e[B] = e[B - 2] + t[B] / 100,
                            e[B + 1] = e[B - 1] + t[B + 1] / 100,
                            y[0] += e[B],
                            y[1] += e[B + 1],
                        e[B] < x[0] && (x[0] = e[B]),
                        e[B + 1] < x[1] && (x[1] = e[B + 1]),
                        e[B] > d[0] && (d[0] = e[B]),
                        e[B + 1] > d[1] && (d[1] = e[B + 1]);
                    D += t.length;
                    f.push(e)
                }
                y[0] /= D / 2;
                y[1] /= D / 2;
                l = f;
                h = y;
                f = x;
                D = d
            } else
                l = [],
                    h = [0, 0],
                    D = f = void 0
        }
        x = R(0, r[3][0], r[3][0] + r[3][1]);
        d = [];
        for (y = 0; y < x.length; y++)
            d[y] = String.fromCharCode.apply(String, new Uint8Array(b,x[y][0],x[y][1]));
        z = String.fromCharCode.apply(String, new Uint8Array(b,r[1][0],r[1][1]));
        x = void 0;
        r = String.fromCharCode.apply(String, new Uint8Array(b,r[0][0],r[0][1]));
        for (y = 0; y < d.length; y++)
            if (d[y] === z) {
                x = y;
                break
            }
        l = {
            defaultFloor: x,
            currentFloor: x,
            uid: r,
            floors: [],
            contour: l,
            boundsMin: f,
            boundsMax: D,
            center: h,
            floorLength: d.length
        };
        for (y = 0; y < d.length; y++) {
            f = d[y];
            a: {
                h = b;
                D = v;
                z = f;
                for (n = 0; n < D.length; n++)
                    if (I = R(G[D[n][0] >> 2] + 1, D[n][0], D[n][0] + D[n][1]),
                    String.fromCharCode.apply(String, new Uint8Array(h,I[0][0],I[0][1])) === z) {
                        z = I[1];
                        break a
                    }
                z = null
            }
            h = b;
            I = r;
            t = f;
            f = c;
            var F = q;
            D = y === x ? !0 : !1;
            if (z)
                if (z = R(0, z[0], z[0] + z[1]),
                    z.length) {
                    n = {
                        base: [],
                        contour: []
                    };
                    for (var H = 0; H < z.length; H++) {
                        e = z[H];
                        B = e[0] >> 2;
                        var J = G[B + 1];
                        7 === J && (F = Qb(h, e, f, n.contour, F, 1, {
                            u: !0,
                            M: !0
                        }))
                    }
                    for (H = 0; H < n.contour.length; H++)
                        n.contour[H].uid = I;
                    for (H = 0; H < z.length; H++)
                        e = z[H],
                            B = e[0] >> 2,
                            J = G[B + 1],
                        7 === J && (F = Qb(h, e, f, n.base, F, 2, {
                            u: !0
                        }));
                    for (H = 0; H < n.base.length; H++)
                        n.base[H].uid = I;
                    (e = Rb(h, z, f, !0, !0)) && 0 !== e.vertex.length && (n.area3D = e,
                        n.area3D.uid = I,
                    n.area3D.border && (n.indoorBorder3D = n.area3D.border,
                        n.indoorBorder3D.uid = I,
                        delete n.area3D.border));
                    n.floorName = t;
                    I = [];
                    for (t = 0; t < z.length; t++)
                        e = z[t],
                            B = e[0] >> 2,
                            J = G[B + 1],
                        J === rb && (e = R(G[B] + 1, e[0], e[0] + e[1]),
                            e.T = D,
                            I.push(e));
                    n.pois = sb(h, I, D ? G[2] : G[3], f, Sb);
                    h = n
                } else
                    h = {
                        floorName: t
                    };
            else
                h = {
                    floorName: t
                };
            l.floors[y] = h
        }
        g[r] = l;
        if (l.floors[x]) {
            if (l.floors[x].base)
                for (y = 0; y < l.floors[x].base.length; y++)
                    u.push(l.floors[x].base[y]);
            if (l.floors[x].contour)
                for (y = 0; y < l.floors[x].contour.length; y++)
                    w.push(l.floors[x].contour[y]);
            l.floors[x].indoorBorder3D && p.push(l.floors[x].indoorBorder3D);
            l.floors[x].area3D && m.push(l.floors[x].area3D)
        }
        g.tileInfo = c
    }
    0 === u.length && (u = null);
    0 === w.length && (w = null);
    0 === p.length && (p = null);
    0 === m.length && (m = null);
    return {
        indoorDataResult: g,
        indoorBase: u,
        indoorBaseContour: w,
        indoorArea3D: m,
        indoorBorder3D: p
    }
}
;
var S = function() {
    function b(b, c, q, h, p) {
        if (h = h || Y) {
            p = h[2];
            switch (c) {
                case "point":
                    p = p[0];
                    break;
                case "pointText":
                    p = p[1];
                    break;
                case "line":
                    p = p[3];
                    break;
                case "polygon":
                    p = p[4];
                    break;
                case "polygon3d":
                    p = p[5]
            }
            var f = q - 1;
            "line" === c && 12 === q && (f = q);
            f = h[1][f][0];
            f = f[b];
            f || "point" !== c && "pointText" !== c || (f = h[1][q][0],
                f = f[b]);
            q = {
                j: f,
                style: p,
                o: []
            }
        } else if (p) {
            h = p.baseFs;
            b: {
                var g = p.zoomRegion;
                if ("[object Object]" === Object.prototype.toString.call(g)) {
                    for (f in g) {
                        f = !1;
                        break b
                    }
                    f = !0
                } else
                    f = !1
            }
            p = f ? p.StyleBody || [] : p.zoomStyleBody[q] || [];
            f = h[2];
            switch (c) {
                case "point":
                    f = f[0];
                    p = p[0] || {};
                    break;
                case "pointText":
                    f = f[1];
                    p = p[1] || {};
                    break;
                case "line":
                    f = f[3];
                    p = p[3] || {};
                    break;
                case "polygon":
                    f = f[4];
                    p = p[4] || {};
                    break;
                case "polygon3d":
                    f = f[5],
                        p = p[5] || {}
            }
            q = {
                j: h[1][q - 1][0][b],
                style: f,
                o: p
            }
        } else
            q = {
                j: null,
                style: [],
                o: []
            };
        p = q;
        q = p.j;
        h = p.style;
        p = p.o;
        f = [];
        if (!q)
            return f;
        for (g = 0; g < q.length; g++) {
            var d = p[q[g]] || h[q[g]];
            if (d) {
                switch (c) {
                    case "polygon":
                        d = {
                            v: b,
                            f: a(d[0]),
                            c: a(d[1]),
                            borderWidth: d[2],
                            B: d[3],
                            C: d[4],
                            oa: d[5],
                            Z: d[6],
                            la: d[7],
                            ma: a(d[8])
                        };
                        break;
                    case "line":
                        d = {
                            v: b,
                            c: a(d[0]),
                            f: a(d[1]),
                            borderWidth: d[2],
                            m: d[3],
                            X: d[4],
                            G: d[5],
                            ba: d[6],
                            ca: d[7],
                            da: d[8],
                            fa: d[9],
                            ga: d[10],
                            B: d[11],
                            h: d[12],
                            C: d[13],
                            Y: d[14],
                            ea: d[15],
                            $: d[16],
                            ha: d[17],
                            ka: d[18]
                        };
                        break;
                    case "pointText":
                        d = d && 0 !== d.length ? {
                            sid: b,
                            fontRgba: a(d[0]),
                            haloRgba: a(d[1]),
                            backRgba: a(d[2]),
                            fontSize: d[3],
                            haloSize: d[4],
                            fontWeight: d[5],
                            fontStyle: d[6],
                            density: d[7]
                        } : null;
                        break;
                    case "point":
                        d = {
                            sid: b,
                            rank: d[0],
                            na: d[1],
                            icon: d[2],
                            iconType: d[3],
                            ia: d[4],
                            density: d[5],
                            zoom: d[6]
                        };
                        break;
                    case "polygon3d":
                        d = {
                            v: b,
                            filter: d[0],
                            ratio: d[1],
                            aa: d[2],
                            borderWidth: d[3],
                            c: a(d[4]),
                            H: a(d[5]),
                            l: a(d[6]),
                            ja: d[7]
                        }
                }
                d && (f[f.length] = d)
            }
        }
        return f
    }
    function a(a) {
        var b = a;
        if (h[b])
            return h[b];
        a >>>= 0;
        h[b] = [a & 255, a >> 8 & 255, a >> 16 & 255, a >> 24 & 255];
        return h[b]
    }
    var c = {}
        , q = {}
        , h = {};
    return {
        b: function(a, h, u, w, p, m, k) {
            a = (a || "default") + "-" + h + "-" + u + "-" + w;
            m && (a += "-indoor");
            if (p)
                return q[a] || (q[a] = b(h, u, w, p)),
                    q[a];
            c[a] || (c[a] = b(h, u, w, p, k));
            return c[a]
        }
    }
}();
function Tb(b, a) {
    if (b.fill)
        b.fill(a);
    else
        for (var c = 0; c < b.length; c++)
            b[c] = a
}
Uint8Array.prototype.slice || (Object.defineProperty(Uint8Array.prototype, "slice", {
    value: Array.prototype.slice
}),
    Object.defineProperty(Uint16Array.prototype, "slice", {
        value: Array.prototype.slice
    }),
    Object.defineProperty(Uint32Array.prototype, "slice", {
        value: Array.prototype.slice
    }),
    Object.defineProperty(Int8Array.prototype, "slice", {
        value: Array.prototype.slice
    }),
    Object.defineProperty(Int16Array.prototype, "slice", {
        value: Array.prototype.slice
    }),
    Object.defineProperty(Int32Array.prototype, "slice", {
        value: Array.prototype.slice
    }),
    Object.defineProperty(Float32Array.prototype, "slice", {
        value: Array.prototype.slice
    }));
var ub, G, Ub;
function vb(b, a, c, q) {
    b = new Uint8Array(b,a,c);
    if (self.TextDecoder)
        return Ub || (Ub = new TextDecoder("utf-8")),
            Ub.decode(b).replace(/\\\\/g, "\\");
    if ("utf-8" === q)
        for (q = "",
                 a = 0; a < b.length; a++)
            c = b[a],
                128 > c ? q += String.fromCharCode(c) : 191 < c && 224 > c ? (q += String.fromCharCode((c & 31) << 6 | b[a + 1] & 63),
                    a += 1) : 223 < c && 240 > c ? (q += String.fromCharCode((c & 15) << 12 | (b[a + 1] & 63) << 6 | b[a + 2] & 63),
                    a += 2) : (c = ((c & 7) << 18 | (b[a + 1] & 63) << 12 | (b[a + 2] & 63) << 6 | b[a + 3] & 63) - 65536,
                    q += String.fromCharCode(c >> 10 | 55296, c & 1023 | 56320),
                    a += 3);
    else {
        if (4096 >= c)
            return String.fromCharCode.apply(String, b);
        q = "";
        var h = Math.ceil(c / 4096);
        for (a = 0; a < h; a++)
            q += String.fromCharCode.apply(String, b.slice(4096 * a, a === h - 1 ? c : 4096 * (a + 1)))
    }
    return q.replace(/\\\\/g, "\\")
}
function R(b, a, c) {
    var q = a >> 2
        , h = G[q + b];
    a = 4 * (h + b + 1) + a;
    var f = [];
    if (a > c)
        return f;
    for (c = 0; c < h; c++) {
        var g = G[q + b + 1 + c]
            , u = a + g;
        f[c] = [a, g];
        0 !== u % 4 ? a = u + 4 - u % 4 : a = u
    }
    return f
}
var rb = 3, Vb = 1E-5, Wb = 1, Y = null, Sb = null, Ab = null, V = "", Z = null, qa = new ba, Xb = 20, Yb = 65536, Zb = [245, 245, 245, 255], $b = 1, oc = null, pc = null, zb = {
    3: {
        start: 3,
        end: 3,
        a: 3
    },
    4: {
        start: 4,
        end: 5,
        a: 5
    },
    5: {
        start: 4,
        end: 5,
        a: 5
    },
    6: {
        start: 6,
        end: 7,
        a: 7
    },
    7: {
        start: 6,
        end: 7,
        a: 7
    },
    8: {
        start: 8,
        end: 9,
        a: 9
    },
    9: {
        start: 8,
        end: 9,
        a: 9
    },
    10: {
        start: 10,
        end: 10,
        a: 10
    },
    11: {
        start: 11,
        end: 13,
        a: 12
    },
    12: {
        start: 11,
        end: 13,
        a: 12
    },
    13: {
        start: 11,
        end: 13,
        a: 12
    },
    14: {
        start: 14,
        end: 15,
        a: 15
    },
    15: {
        start: 14,
        end: 15,
        a: 15
    },
    16: {
        start: 16,
        end: 17,
        a: 17
    },
    17: {
        start: 16,
        end: 17,
        a: 17
    },
    18: {
        start: 18,
        end: 21,
        a: 19
    },
    19: {
        start: 18,
        end: 21,
        a: 19
    },
    20: {
        start: 18,
        end: 21,
        a: 19
    },
    21: {
        start: 18,
        end: 21,
        a: 19
    }
}, tb, qc, rc = !1, sc = [], tc = !1;
function pb() {
    for (var b = atob("AGFzbQEAAAABNAdgAX8Bf2AAAX9gAX8AYAJ/fwBgAABgDX9/f39/fH9/f39/f38AYAt/f3x/f39/f39/fwACngEKA2Vudg5EWU5BTUlDVE9QX1BUUgN/AANlbnYNdGVtcERvdWJsZVB0cgN/AANlbnYFQUJPUlQDfwADZW52CFNUQUNLVE9QA38AA2VudglTVEFDS19NQVgDfwADZW52AmdiA38AA2VudgJmYgN/AAZnbG9iYWwDTmFOA3wABmdsb2JhbAhJbmZpbml0eQN8AANlbnYGbWVtb3J5AgFGRgMeHQABAgMDAQEBAQEBAQEBBAEBBAEBAQEBAQMFAwYEBnMUfwEjAAt/ASMBC38BIwILfwEjAwt/ASMEC38BIwULfwEjBgt/AUEAC38BQQALfwFBAAt/AUEAC3wBIwcLfAEjCAt/AUEAC38BQQALfwFBAAt/AUEAC3wBRAAAAAAAAAAAC38BQQALfAFEAAAAAAAAAAALB/AEHAtfcmVzZXRfbGluZQAOFl9nZXRfYmxvY2tfaW5kZXhfc3RhcnQAEghzZXRUaHJldwAEGl9nZXRfbGluZV90dXJuaW5nc19hZGRyZXNzAAgjX2dldF9ibG9ja190cmlhbmdsZV9pbmRpY2VzX2FkZHJlc3MAEBZfZ2V0X2xpbmVfdmVydGV4X2NvdW50AA0Kc3RhY2tBbGxvYwAAF19nZXRfYmxvY2tfdmVydGV4X2NvdW50ABYXX2dldF9ibG9ja192ZXJ0ZXhfc3RhcnQAFBRfZ2V0X2xpbmVfdmVydGV4X2VuZAAMG19nZXRfZmVhdHVyZV9wb2ludHNfYWRkcmVzcwAXDHN0YWNrUmVzdG9yZQACFF9nZXRfYmxvY2tfaW5kZXhfZW5kABMbX2dldF9saW5lX2FsdGl0dWRlc19hZGRyZXNzAAYVX2dldF9ibG9ja192ZXJ0ZXhfZW5kABUJc3RhY2tTYXZlAAELcnVuUG9zdFNldHMAHBZfZ2V0X2xpbmVfdmVydGV4X3N0YXJ0AAsNX3BhcnNlX3BvaW50cwAYGF9nZXRfbGluZV9wb2ludHNfYWRkcmVzcwAHE2VzdGFibGlzaFN0YWNrU3BhY2UAAxNfZ2V0X2xpbmVfaW5kZXhfZW5kAAoRX2FwcGVuZF9saW5lX2RhdGEAGRVfZ2V0X2xpbmVfaW5k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"), a = b.length, c = new Uint8Array(a), q = 0; q < a; q++)
        c[q] = b.charCodeAt(q);
    return c.buffer
}
function uc() {
    tc || (tc = !0,
        ob(function() {
            rc = !0;
            if (sc.length)
                for (var b = 0; b < sc.length; b++) {
                    var a = sc[b];
                    vc(a.data, a.s, a.V) // 执行 请求回来的数据
                }
            sc = []
        }))
}
self.onmessage = function(b) {
    b = b.data;
    var a = b.action;
    if (self[a])
        self[a](b)
}
;
var yb = {
    0: "00000000",
    16: "00010000",
    32: "00100000",
    48: "00110000",
    64: "01000000",
    96: "01100000"
};
function wb(b, a) {
    if (!yb[b]) {
        var c = b.toString(2);
        8 > c.length && (c = Array(8 - c.length + 1).join("0") + c);
        yb[b] = c
    }
    c = yb[b];
    return "1" === c[a - zb[a].start]
}
function vc(b, a, c) {
    pa("finishLoadTile");
    try {
        pa("begin(ParseData)"),
            wc(b, a, c, function(a) {
                pa("finishParseData");
                a.base = a.a;
                a.base3d = a.A;
                a.virtual = a.W;
                a.building3d = a.D;
                a.building3dMesh = a.F;
                a.indoorData = a.N;
                a.indoorBase = a.J;
                a.indoorBaseContour = a.K;
                a.indoorBorder3D = a.L;
                a.indoorArea3D = a.I;
                a.label = a.label;
                a.tileInfo = a.s;
                for (var b = [], c = 0; c < a.base.length; c++) {
                    var g = a.base[c];
                    b.push(g.data[0].buffer);
                    b.push(g.data[1].buffer)
                }
                if (a.base3d)
                    for (c = 0; c < a.base3d.length; c++)
                        g = a.base3d[c],
                            "block" === g.type ? (b.push(g.data.vertex.buffer),
                                b.push(g.data.index.buffer)) : (b.push(g.data[0].buffer),
                                b.push(g.data[1].buffer));
                if (a.virtual)
                    for (c = 0; c < a.virtual.length; c++)
                        g = a.virtual[c],
                            b.push(g.data[0].buffer),
                            b.push(g.data[1].buffer);
                a.building3d && (b.push(a.building3d.vertex.buffer),
                    b.push(a.building3d.index.buffer));
                if (a.indoorBase)
                    for (c = 0; c < a.indoorBase.length; c++)
                        g = a.indoorBase[c],
                            b.push(g.data[0].buffer),
                            b.push(g.data[1].buffer);
                if (a.indoorBaseContour)
                    for (c = 0; c < a.indoorBaseContour.length; c++)
                        g = a.indoorBaseContour[c],
                            b.push(g.data[0].buffer),
                            b.push(g.data[1].buffer);
                if (a.indoorBorder3D && a.indoorBorder3D && 0 < a.indoorBorder3D.length)
                    for (c = 0; c < a.indoorBorder3D.length; c++)
                        b.push(a.indoorBorder3D[c].data[0].buffer),
                            b.push(a.indoorBorder3D[c].data[1].buffer);
                if (a.indoorArea3D && 0 < a.indoorArea3D.length)
                    for (c = 0; c < a.indoorArea3D.length; c++)
                        b.push(a.indoorArea3D[c].vertex.buffer),
                            b.push(a.indoorArea3D[c].index.buffer);
                a.label && (a.label.textImageBitmap && b.push(a.label.textImageBitmap),
                a.label.indoorTextImageBitmap && b.push(a.label.indoorTextImageBitmap));
                a.perfStat = [ra("beginLoadTile", "finishLoadTile"), ra("finishLoadTile", "beginParseData"), ra("beginParseData", "finishParseData"), qc];
                a.endTime = Date.now();
                postMessage(a, b)
            })
    } catch (q) {
        postMessage({
            tileInfo: a,
            tileKey: c,
            error: "parse_error",
            message: q.message
        })
    }
}

self.loadTileData = function(b) {
    console.log("?????")
    console.log("b")
    var a = b.url
        , c = {};
    c.baseTileSize = b.tileInfo.baseTileSize;
    c.col = b.tileInfo.col;
    c.loopOffsetX = b.tileInfo.loopOffsetX;
    c.mercatorSize = b.tileInfo.mercatorSize;
    c.row = b.tileInfo.row;
    c.tileSize = b.tileInfo.tileSize;
    c.tileTypeName = b.tileInfo.tileTypeName;
    c.useZoom = b.tileInfo.useZoom;
    c.zoom = b.tileInfo.zoom;
    c.processedLabelZooms = b.tileInfo.processedLabelZooms;
    var q = b.tileKey;
    b.featureStyle && (Y = JSON.parse(b.featureStyle),
        Z = null);
    b.indoorStyle && (Sb = JSON.parse(b.indoorStyle));
    b.iconSetInfo && (Ab = JSON.parse(b.iconSetInfo));
    b.iconInfo && (tb = b.iconInfo.textSizeRatio);
    b.mapStyleId && (V = b.mapStyleId);
    b.customMapStyle && (Z = JSON.parse(b.customMapStyle),
        Y = null);
    c.style = V;
    oc = pc = null;
    qc = 0;
    var h = new XMLHttpRequest;
    h.open("GET", a, !0);
    h.responseType = "arraybuffer";
    h.timeout = 1E4;
    h.ontimeout = function() {
        postMessage({
            tileInfo: c,
            tileKey: q,
            error: "net_timeout",
            message: "net status: timeout"
        })
    }
    ;
    h.onreadystatechange = function() {
        4 === this.readyState && (200 === this.status && (qc = Math.round(h.response.byteLength / 1024),
            rc ? vc(h.response, c, q) : sc[sc.length] = {
                data: h.response,
                s: c,
                V: q
            }),
        400 <= this.status && postMessage({
            tileInfo: c,
            tileKey: q,
            error: "net_error",
            message: "net status: " + this.status
        }))
    }
    ;
    h.send();
    uc();
    pa("beginLoadTile")
}
;
function wc(b, a, c, q) {
    var h = []
        , f = []
        , g = []
        , u = 0
        , w = a.useZoom
        , p = null
        , m = null;
    G = new Uint32Array(b);
    ub = new Int32Array(b);
    $b = G[0];
    for (var k = R(G[1] + 2, 0, b.byteLength), d = R(0, k[0][0], k[0][0] + k[0][1]), v, r = !1, l = 0; l < d.length; l++) {
        p = d[l];
        var n = p[0] >> 2
            , t = G[n + 1];
        if (7 === t) {
            r = !0;
            break
        }
    }
    !1 === r && (u = Qb(null, null, a, h, u, 0));
    for (l = 0; l < d.length; l++)
        p = d[l],
            n = p[0] >> 2,
            t = G[n + 1],
            r = G[n + 2],
            7 === t ? u = Qb(b, p, a, h, u, 0) : 4 === t ? 13E3 === r || 83500 === r ? xc(b, p, w, g, 0) : u = xc(b, p, w, h, u) : 15 === t ? (v = u,
                u = Qb(b, p, a, f, u, 1, {
                    O: !0
                })) : 16 === t ? u = xc(b, p, w, f, u, !0) : 18 === t ? u = Oc(b, p, w, f, u) : 19 === t ? u = Pc(b, p, w, h, u) : 20 === t && (u = Qc(b, p, w, f, u));
    (l = Rc(d, a)) && f.push({
        type: "block",
        data: l,
        has3D: !0,
        has2D: !1
    });
    p = Rb(b, d, a);
    l = Sc(b, d, a);
    0 < l && (m = {
        vertex: new Float32Array(7 * l),
        index: new Uint16Array(l / 3)
    },
        Sc(b, d, a, m.vertex, m.index));
    l = {
        U: vb(b, k[3][0], k[3][1], void 0) || "",
        height: G[2] || 0
    };
    var e = qb(b, d, k[2], l, a) || {};
    e.textImgStr = l.U || null;
    k[4][1] && G[3] ? (e.indoorTextImgStr = vb(b, k[4][0], k[4][1], void 0) || null,
        e.indoorTextureHeight = G[3]) : e.indoorTextImgStr = null;
    b = Pb(b, k[1], a, v ? v : u);
    e.indoorLabel = [];
    if (b.indoorDataResult)
        for (var D in b.indoorDataResult)
            if ("tileInfo" !== D)
                for (u = b.indoorDataResult[D],
                         k = u.defaultFloor,
                         b.indoorDataResult[D].tileKey = c,
                         l = 0; l < u.floors.length; l++)
                    k === l && u.floors[l].pois && (e.indoorLabel = e.indoorLabel.concat(u.floors[l].pois));
    G = ub = null;
    h.length && (h = Tc(h));
    var y = {
        a: h,
        A: f.length ? f : null,
        W: g.length ? g : null,
        D: p,
        F: m,
        N: b.indoorDataResult,
        J: b.indoorBase,
        K: b.indoorBaseContour,
        L: b.indoorBorder3D,
        I: b.indoorArea3D,
        label: e,
        s: a
    };
    if ((e.textImgStr || e.indoorTextImgStr) && self.fetch && self.createImageBitmap && self.Promise) {
        var x = function() {
            q(y)
        }
            , z = 0;
        e.textImgStr && (z++,
            fetch(e.textImgStr).then(function(a) {
                a.blob().then(function(a) {
                    createImageBitmap(a, {
                        imageOrientation: "flipY"
                    }).then(function(a) {
                        e.textImageBitmap = a;
                        e.textImgStr = null;
                        z--;
                        0 === z && q(y)
                    }, x)
                }, x)
            }, x));
        e.indoorTextImgStr && (z++,
            fetch(e.indoorTextImgStr).then(function(a) {
                a.blob().then(function(a) {
                    createImageBitmap(a, {
                        imageOrientation: "flipY"
                    }).then(function(a) {
                        e.indoorTextImageBitmap = a;
                        e.indoorTextImgStr = null;
                        z--;
                        0 === z && q(y)
                    }, x)
                }, x)
            }, x))
    } else
        q(y)
}
function Tc(b) {
    for (var a = void 0, c = 0, q = 0, h = !1, f = 0; f < b.length; f++)
        "fill" !== b[f].type ? a = void 0 : b[f].type === a ? (b[c] = Uc(b[c], b[f], q),
            b[f].S = !0,
            q += b[f].g,
            h = !0) : (c = f,
            a = b[f].type,
            q = b[f].g);
    return h ? b.filter(function(a) {
        return !a.S
    }) : b
}
function Uc(b, a, c) {
    var q = b.data[1]
        , h = a.data[1];
    b.data[0] = Vc(b.data[0], a.data[0]);
    b.data[1] = Vc(q, h, c);
    b.has3D = b.has3D || a.has3D;
    b.has2D = b.has2D || a.has2D;
    return b
}
function Vc(b, a, c) {
    if (b.constructor === ArrayBuffer) {
        var q = new Uint8Array(b.byteLength + a.byteLength);
        q.set(new Uint8Array(b), 0);
        q.set(new Uint8Array(a), b.byteLength);
        return q.buffer
    }
    q = new b.constructor(b.length + a.length);
    q.set(b, 0);
    if (c)
        for (var h = 0; h < a.length; h++)
            a[h] += c;
    q.set(a, b.length);
    return q
}
function Qb(b, a, c, q, h, f, g) {
    var u = [];
    b && (u = a ? a[0] >> 2 : 0,
        u = G[u],
        u = R(u + 1, a[0], a[0] + a[1]));
    a = 0;
    var w = c.baseTileSize
        , p = c.useZoom
        , m = []
        , k = [];
    g = g || {};
    var d = g.u || !1
        , v = g.O || !1;
    g = g.M || !1;
    if (!v && 0 === h) {
        k = Zb;
        if (Z && Z.zoomFrontStyle && Z.zoomFrontStyle[c.zoom] && Z.zoomFrontStyle[c.zoom].bmapLandColor) {
            k = Z.zoomFrontStyle[c.zoom].bmapLandColor.replace("#", "");
            3 === k.length ? k += "f" : 6 === k.length && (k += "ff");
            m = [];
            c = k.length;
            for (var r = 8 === c ? 2 : 1, l = 0; l < c; l += r)
                2 === r ? m.push(parseInt(k.slice(l, l + 2), 16)) : m.push(parseInt(k.slice(l, l + 1) + k.slice(l, l + 1), 16));
            k = m
        }
        m = [0, 0, 0, k[0], k[1], k[2], k[3], 0, w, 0, 0, k[0], k[1], k[2], k[3], 0, w, w, 0, k[0], k[1], k[2], k[3], 0, 0, w, 0, k[0], k[1], k[2], k[3], 0];
        k = [0, 1, 2, 0, 2, 3]
    }
    1 === f ? (h++,
        a = h,
        h += 5) : 2 === f && (a = h + 3 * u.length + 1);
    c = [];
    r = [];
    for (var n = l = !1, t = 0; t < u.length; t++) {
        var e = u[t]
            , D = e[0] >> 2
            , y = G[D];
        if ((D = S.b(V, G[D + 1], "polygon", p, d ? Sb : Y, d, Z)) && D.length) {
            D = D[0];
            var x = D.f[0]
                , z = D.f[1]
                , I = D.f[2]
                , B = D.f[3]
                , F = D.c[0]
                , H = D.c[1]
                , J = D.c[2]
                , W = D.c[3]
                , L = D.borderWidth / 4
                , sa = 2.5 * L;
            e = R(y + 1, e[0], e[0] + e[1]);
            h += 3;
            for (y = 0; y < e.length; y++) {
                var O = e[y]
                    , K = O[0] >> 2
                    , P = G[K];
                if (wb(G[K + 1], p)) {
                    var T = R(P + 1, O[0], O[0] + O[1]);
                    O = new Int32Array(b,T[0][0],T[0][1] >> 2);
                    if (O.length && !(4E3 < O.length)) {
                        var N = new Uint16Array(b,T[2][0],T[2][1] >> 1);
                        !0 !== g && N && m.length / 8 + O.length / 2 > Yb && (m = Wc(m),
                            q.push({
                                type: "fill",
                                data: [m, new Uint16Array(k)],
                                g: m.byteLength / Xb,
                                has3D: l,
                                has2D: n
                            }),
                            m = [],
                            k = [],
                            n = l = !1);
                        P = null;
                        var M = !1;
                        if (v) {
                            var E = 1 < $b ? new Int16Array(b,T[1][0],T[1][1] >> 1) : new Uint16Array(b,T[1][0],T[1][1] >> 1);
                            if (1 === E.length && E[0])
                                P = Array(O.length >> 1),
                                0 > E[0] && (M = !0),
                                    Tb(P, E[0]),
                                    l = !0;
                            else if (1 < E.length) {
                                P = [];
                                for (var C = 0; C < E.length; C++)
                                    0 > E[C] && (M = !0),
                                        P[C] = E[C] || Wb;
                                l = !0
                            } else
                                n = !0
                        }
                        C = m.length / 8;
                        E = ib(O);
                        K = G[K + 2];
                        g && 1 === K && (L = sa);
                        if (!0 !== g && N) {
                            K = k;
                            for (var ca = 0; ca < N.length; ca++)
                                K[K.length] = N[ca] + C;
                            C = 0;
                            for (N = E.length / 2; C < N; C++)
                                K = P ? P[C] : 0,
                                    m.push(E[2 * C], E[2 * C + 1], K, x, z, I, B, h)
                        }
                        if (P && !M)
                            for (c.length / 8 + E.length / 2 * 2 > Yb && (c = Wc(c),
                                r = new Uint16Array(r),
                                q.push({
                                    type: "fill",
                                    data: [c, r],
                                    g: c.byteLength / Xb,
                                    has3D: l,
                                    has2D: n
                                }),
                                r = [],
                                c = []),
                                     M = c.length / 8,
                                     C = 0; C < E.length; C += 2) {
                                K = P[C / 2];
                                N = K - 280;
                                0 > N && (N = 0);
                                c.push(E[C], E[C + 1], K, F, H, J, W, h, E[C], E[C + 1], N, F, H, J, W, h);
                                K = E[C];
                                N = E[C + 1];
                                ca = C === E.length - 2 ? E[1] : E[C + 3];
                                var Q = !1;
                                if (K === (C === E.length - 2 ? E[0] : E[C + 2])) {
                                    if (Math.abs(K) < Vb || Math.abs(K - w) < Vb)
                                        Q = !0
                                } else
                                    N === ca && (Math.abs(N) < Vb || Math.abs(N - w) < Vb) && (Q = !0);
                                Q || (C === E.length - 2 ? r.push(M + C, M + C + 1, M, M, M + C + 1, M + 1) : r.push(M + C, M + C + 1, M + C + 2, M + C + 2, M + C + 1, M + C + 3))
                            }
                        if (f && D.borderWidth && E.length) {
                            if (E[0] - E[E.length - 2] > Vb || E[1] - E[E.length - 1] > Vb)
                                E[E.length] = E[0],
                                    E[E.length] = E[1],
                                P && (P[P.length] = P[0]);
                            if (T[3])
                                for (T = R(0, T[3][0], T[3][0] + T[3][1]),
                                         E = 0; E < T.length; E++)
                                    M = T[E],
                                        K = R(0, M[0], M[0] + M[1]),
                                        M = new Int16Array(b,K[0][0],K[0][1] >> 1),
                                    lb() + M.length / 2 > Yb && (q.push({
                                        type: "line",
                                        data: [jb(), kb()],
                                        has3D: l,
                                        has2D: n
                                    }),
                                        nb()),
                                        C = new Uint16Array(b,K[1][0],K[1][1] >> 1),
                                        K = new Int8Array(b,K[2][0],K[2][1]),
                                        mb(M, [F, H, J, W], L, P, a, !1, O, K, 0, C[0], C[1])
                        }
                    }
                }
            }
        }
    }
    c.length && (c = Wc(c),
        r = new Uint16Array(r),
        q.push({
            type: "fill",
            data: [c, r],
            g: c.byteLength / Xb,
            has3D: l,
            has2D: n
        }));
    m.length && (m = Wc(m),
        q.push({
            type: "fill",
            data: [m, new Uint16Array(k)],
            g: m.byteLength / Xb,
            has3D: l,
            has2D: n
        }));
    f && (q.push({
        type: "line",
        data: [jb(), kb()],
        has3D: l,
        has2D: n
    }),
        nb());
    return Math.max(h, a)
}
function xc(b, a, c, q, h, f) {
    a = R(G[a[0] >> 2] + 1, a[0], a[0] + a[1]);
    for (var g = !1, u = !1, w = 0; 2 > w; w++) {
        0 === w && h++;
        for (var p = 0; p < a.length; p++) {
            var m = a[p]
                , k = m[0] >> 2
                , d = G[k];
            if ((k = S.b(V, G[k + 1], "line", c, Y, !1, Z)) && k.length && (0 !== w || k[0].borderWidth) && (m = R(d + 1, m[0], m[0] + m[1]),
            0 !== w || !k[0].h))
                if (1 === w && k[0].h) {
                    var v = k[0].h;
                    d = v;
                    var r = Ab[d];
                    if (r) {
                        r = [r[0], r[1]];
                        lb() && (q[q.length] = {
                            type: "line",
                            data: [jb(), kb()],
                            has3D: g,
                            has2D: u
                        },
                            nb(),
                            u = g = !1);
                        /guojietianqiaojieti/.test(v) ? h += 20 : h++;
                        var l = k[0].m / 4
                            , n = f ? !0 : !1
                            , t = !1;
                        /\b(32|16|8|4)$/.test(d) && (l *= 5,
                            r[1] *= 2,
                            t = n = !0,
                            v = v.replace(/\b4$/, "8"));
                        var e = !1
                            , D = !1;
                        for (d = 0; d < m.length; d++) {
                            var y = m[d]
                                , x = y[0] >> 2
                                , z = G[x];
                            x = G[x + 1];
                            if (wb(x, c) && (x = R(z + 1, y[0], y[0] + y[1]),
                                y = null,
                                z = new Int32Array(b,x[0][0],x[0][1] >> 2),
                            z.length && !(8E3 < z.length))) {
                                if (t && 4 === z.length) {
                                    var I = z
                                        , B = I[2]
                                        , F = I[3]
                                        , H = Math.sqrt(B * B + F * F);
                                    H = 800 * ~~(H / 800) / H;
                                    I[2] = ~~(B * H);
                                    I[3] = ~~(F * H)
                                }
                                if (f) {
                                    var J = 1 < $b ? new Int16Array(b,x[1][0],x[1][1] >> 1) : new Uint16Array(b,x[1][0],x[1][1] >> 1);
                                    if (1 === J.length && J[0])
                                        y = Array(z.length >> 1),
                                            Tb(y, J[0]),
                                            e = !0;
                                    else if (1 < J.length) {
                                        y = [];
                                        for (e = 0; e < J.length; e++)
                                            y[e] = J[e] || Wb;
                                        e = !0
                                    } else
                                        D = !0
                                }
                                I = new Int16Array(b,x[2][0],x[2][1] >> 1);
                                B = new Int8Array(b,x[3][0],x[3][1]);
                                mb(I, k[0].f, l, y, h, !0, z, B, 1)
                            }
                        }
                        lb() && (q[q.length] = {
                            type: "line",
                            textureSize: r,
                            texture: v + ".png",
                            lineWidth: k[0].m / 2,
                            data: [jb(), kb()],
                            has3D: e,
                            has2D: D,
                            zoomWithMap: n
                        },
                            nb())
                    }
                } else if (0 === w ? (v = k[0].c,
                    r = k[0].borderWidth) : (v = k[0].f,
                    r = k[0].m),
                    r /= 4,
                    !(0 === r || 0 === v[3] || 100 < r))
                    for (1 === w && h++,
                             d = 0; d < m.length; d++)
                        if (y = m[d],
                            x = y[0] >> 2,
                            z = G[x],
                            x = G[x + 1],
                        wb(x, c) && (x = R(z + 1, y[0], y[0] + y[1]),
                            z = new Int32Array(b,x[0][0],x[0][1] >> 2),
                        z.length && !(8E3 < z.length))) {
                            I = new Int16Array(b,x[2][0],x[2][1] >> 1);
                            B = new Int8Array(b,x[3][0],x[3][1]);
                            lb() + I.length / 2 > Yb && (q[q.length] = {
                                type: "line",
                                data: [jb(), kb()],
                                has3D: g,
                                has2D: u
                            },
                                u = g = !1,
                                nb());
                            y = null;
                            if (f)
                                if (1 < $b ? J = new Int16Array(b,x[1][0],x[1][1] >> 1) : J = new Uint16Array(b,x[1][0],x[1][1] >> 1),
                                1 === J.length && J[0])
                                    y = Array(z.length >> 1),
                                        Tb(y, J[0]),
                                        g = !0;
                                else if (1 < J.length) {
                                    y = [];
                                    for (g = 0; g < J.length; g++)
                                        y[g] = J[g] || Wb;
                                    g = !0
                                } else
                                    u = !0;
                            mb(I, v, r, y, h, 1 === k[0].G, z, B, 0)
                        }
        }
    }
    lb() && (q[q.length] = {
        type: "line",
        data: [jb(), kb()],
        has3D: g,
        has2D: u
    },
        nb());
    return h
}
function Qc(b, a, c, q, h) {
    var f = R(G[a[0] >> 2] + 1, a[0], a[0] + a[1])
        , g = [];
    a = [];
    for (var u = !1, w = !1, p = 0; p < f.length; p++) {
        var m = f[p];
        m = R(G[m[0] >> 2] + 1, m[0], m[0] + m[1])[0];
        var k = m[0] >> 2
            , d = G[k];
        if (wb(G[k + 1], c)) {
            var v = R(d + 1, m[0], m[0] + m[1]);
            m = new Int32Array(b,v[0][0],v[0][1] >> 2);
            m = ib(m);
            d = 1 < $b ? new Int16Array(b,v[3][0],v[3][1] >> 1) : new Uint16Array(b,v[3][0],v[3][1] >> 1);
            k = void 0;
            if (1 === d.length && d[0])
                k = Array(m.length >> 1),
                    Tb(k, d[0]),
                    u = !0;
            else if (1 < d.length) {
                k = [];
                for (var r = 0; r < d.length; r++)
                    k[r] = d[r] || 1;
                u = !0
            } else
                w = !0;
            d = new Uint32Array(b,v[2][0],v[2][1] >> 2);
            r = g.length / 8;
            h += 8;
            var l = S.b(V, d[0], "polygon", c, Y, !1, Z)
                , n = S.b(V, d[1], "polygon", c, Y, !1, Z);
            if (l && n) {
                var t = new Int32Array(b,v[1][0],v[1][1] >> 2);
                d = [t[0] / 100, t[1] / 100];
                l = l[0].f;
                t = [t[2] / 100, t[3] / 100];
                n = n[0].f;
                var e = [t[0] - d[0], t[1] - d[1]]
                    , D = Math.sqrt(Math.pow(e[0], 2) + Math.pow(e[1], 2))
                    , y = a;
                v = new Uint16Array(b,v[4][0],v[4][1] >> 1);
                for (var x = 0; x < v.length; x++)
                    y[y.length] = v[x] + r;
                r = 0;
                for (v = m.length / 2; r < v; r++) {
                    y = [m[2 * r], m[2 * r + 1]];
                    if (0 === e[0]) {
                        x = d[0];
                        var z = y[1]
                    } else
                        z = -((d[0] - y[0]) * e[0] + (d[1] - y[1]) * e[1]) / (e[0] * e[0] + e[1] * e[1]),
                            x = z * e[0] + d[0],
                            z = z * e[1] + d[1];
                    z = Math.sqrt(Math.pow(x - t[0], 2) + Math.pow(z - t[1], 2)) / D;
                    if (d[0] < t[0] && x < d[0] || d[0] > t[0] && x > d[0])
                        z = 1;
                    else if (d[0] < t[0] && x > t[0] || d[0] > t[0] && x < t[0])
                        z = 0;
                    g.push(y[0], y[1], k ? k[r] : 0, z * l[0] + (1 - z) * n[0], z * l[1] + (1 - z) * n[1], z * l[2] + (1 - z) * n[2], z * l[3] + (1 - z) * n[3], h)
                }
            }
        }
    }
    g.length && (b = Wc(g),
        q.push({
            type: "fill",
            data: [b, new Uint16Array(a)],
            g: b.byteLength / Xb,
            has3D: u,
            has2D: w
        }));
    return h
}
function Oc(b, a, c, q, h) {
    var f = R(G[a[0] >> 2] + 1, a[0], a[0] + a[1]);
    if (!f.length)
        return h;
    a = [];
    var g = [];
    h++;
    var u = ib(new Int32Array(b,f[0][0],f[0][1] >> 2))
        , w = new Int32Array(b,f[1][0],f[1][1] >> 2);
    b = new Int16Array(b,f[2][0],f[2][1] >> 1);
    var p = f = !1;
    1 === b.length && 0 === b[0] ? p = !0 : f = !0;
    b = ib(b, 1);
    if (1 === b.length) {
        var m = b[0];
        b = Array(u.length >> 1);
        Tb(b, m)
    }
    for (m = 0; m < w.length; m++)
        if (wb(w[m], c)) {
            var k = [u[4 * m], u[4 * m + 1], b[2 * m]]
                , d = [u[4 * m + 2], u[4 * m + 3], b[2 * m + 1]]
                , v = [(k[0] + d[0]) / 2, (k[1] + d[1]) / 2, (k[2] + d[2]) / 2]
                , r = v[0] - k[0]
                , l = v[1] - k[1]
                , n = [d[0] - k[0], d[1] - k[1]]
                , t = n[0] * n[0] + n[1] * n[1];
            0 < t && (t = 1 / Math.sqrt(t),
                n[0] *= t,
                n[1] *= t);
            t = a.length / 10;
            a[a.length] = v[0];
            a[a.length] = v[1];
            a[a.length] = k[2];
            a[a.length] = -r;
            a[a.length] = -l;
            a[a.length] = -n[1];
            a[a.length] = n[0];
            a[a.length] = .125;
            a[a.length] = .3125;
            a[a.length] = h;
            a[a.length] = v[0];
            a[a.length] = v[1];
            a[a.length] = k[2];
            a[a.length] = -r;
            a[a.length] = -l;
            a[a.length] = n[1];
            a[a.length] = -n[0];
            a[a.length] = .125;
            a[a.length] = .6875;
            a[a.length] = h;
            a[a.length] = v[0];
            a[a.length] = v[1];
            a[a.length] = d[2];
            a[a.length] = r;
            a[a.length] = l;
            a[a.length] = -n[1];
            a[a.length] = n[0];
            a[a.length] = 1;
            a[a.length] = .3125;
            a[a.length] = h;
            a[a.length] = v[0];
            a[a.length] = v[1];
            a[a.length] = d[2];
            a[a.length] = r;
            a[a.length] = l;
            a[a.length] = n[1];
            a[a.length] = -n[0];
            a[a.length] = 1;
            a[a.length] = .6875;
            a[a.length] = h;
            g[g.length] = t;
            g[g.length] = t + 1;
            g[g.length] = t + 2;
            g[g.length] = t + 2;
            g[g.length] = t + 1;
            g[g.length] = t + 3
        }
    g.length && q.push({
        type: "arrow",
        data: [new Float32Array(a), new Uint16Array(g)],
        has3D: f,
        has2D: p
    });
    return h
}
function Pc(b, a, c, q, h) {
    if (Z)
        return h;
    a = R(G[a[0] >> 2] + 1, a[0], a[0] + a[1]);
    h++;
    for (var f = 0; f < a.length; f++) {
        var g = a[f]
            , u = g[0] >> 2
            , w = G[u];
        if ((u = S.b(V, G[u + 1], "line", c, Y, !1, Z)) && u.length) {
            var p = u[0].h + ".png";
            g = R(w + 1, g[0], g[0] + g[1]);
            for (w = 0; w < g.length; w++) {
                var m = g[w]
                    , k = m[0] >> 2
                    , d = G[k];
                wb(G[k + 1], c) && (k = G[k + 2] / 20,
                    m = R(d + 1, m[0], m[0] + m[1]),
                    mb(new Int16Array(b,m[2][0],m[2][1] >> 1), u[0].f, k, null, h, !0, new Int32Array(b,m[0][0],m[0][1] >> 2), new Int8Array(b,m[3][0],m[3][1]), 2))
            }
            q[q.length] = {
                type: "line",
                texture: p,
                isSingle: !0,
                data: [jb(), kb()]
            };
            nb()
        }
    }
    return h
}
function Rb(b, a, c, q, h) {
    c = c.useZoom;
    if (!a || !a.length)
        return null;
    for (var f = 0; f < a.length; f++) {
        var g = a[f]
            , u = g[0] >> 2
            , w = G[u];
        if (8 === G[u + 1])
            for (g = R(w + 1, g[0], g[0] + g[1]),
                     u = 0; u < g.length; u++) {
                var p = g[u];
                w = p[0] >> 2;
                var m = G[w];
                if ((w = S.b(V, G[w + 1], "polygon3d", c, h ? Sb : Y, !1, Z)) && w[0]) {
                    w = w[0];
                    var k = w.H
                        , d = w.l;
                    if (Z) {
                        d = void 0;
                        var v = k[0] / 255
                            , r = k[1] / 255
                            , l = k[2] / 255
                            , n = Math.max(v, r, l)
                            , t = n - Math.min(v, r, l);
                        for (0 === t ? d = 0 : n === v ? d = (r - l) / t % 6 * 60 : n === r ? d = 60 * ((l - v) / t + 2) : n === l && (d = 60 * ((v - r) / t + 4)); 0 > d; )
                            d += 360;
                        var e = [d, 0 === n ? 0 : t / n, n];
                        e[2] += .05;
                        0 > e[2] && (e[2] = 0);
                        r = v = d = void 0;
                        l = e[2] * e[1];
                        n = l * (1 - Math.abs(e[0] / 60 % 2 - 1));
                        t = e[2] - l;
                        e = e[0];
                        0 <= e && 60 > e ? (r = l,
                            v = n,
                            d = 0) : 60 <= e && 120 > e ? (r = n,
                            v = l,
                            d = 0) : 120 <= e && 180 > e ? (r = 0,
                            v = l,
                            d = n) : 180 <= e && 240 > e ? (r = 0,
                            v = n,
                            d = l) : 240 <= e && 300 > e ? (r = n,
                            v = 0,
                            d = l) : 300 <= e && 360 > e && (r = l,
                            v = 0,
                            d = n);
                        d = [Math.round(255 * (r + t)), Math.round(255 * (v + t)), Math.round(255 * (d + t)), 255];
                        oc || (oc = k,
                            pc = d)
                    }
                    p = R(m + 1, p[0], p[0] + p[1]);
                    m = 0;
                    if (q && w.borderWidth) {
                        var D = w.c[0]
                            , y = w.c[1]
                            , x = w.c[2]
                            , z = w.c[3];
                        m = w.borderWidth / 4
                    }
                    for (v = 0; v < p.length; v++)
                        if (r = p[v],
                            l = r[0] >> 2,
                            n = G[l],
                        wb(G[l + 1], c) && (l = G[l + 2],
                            !(l < w.filter))) {
                            n = R(n + 1, r[0], r[0] + r[1]);
                            r = new Int32Array(b,n[0][0],n[0][1] >> 2);
                            e = new Uint16Array(b,n[1][0],n[1][1] >> 1);
                            t = r;
                            var I = l
                                , B = k[0]
                                , F = k[1]
                                , H = k[2]
                                , J = k[3]
                                , W = d[0]
                                , L = d[1]
                                , sa = d[2]
                                , O = d[3]
                                , K = t;
                            Va || (Va = A._get_block_points_address() >> 2);
                            Ea.set(K, Va);
                            K = e;
                            Wa || (Wa = A._get_block_triangle_indices_address() >> 1);
                            Ga.set(K, Wa);
                            A._append_block_data(t.length, e.length, I, B, F, H, J, W, L, sa, O);
                            if (q && w.borderWidth && r.length && (t = Array(r.length >> 1),
                                Tb(t, 100 * l),
                                n[2]))
                                for (l = R(0, n[2][0], n[2][0] + n[2][1]),
                                         n = 0; n < l.length; n++)
                                    e = l[n],
                                        B = R(0, e[0], e[0] + e[1]),
                                        e = new Int16Array(b,B[0][0],B[0][1] >> 1),
                                        I = new Uint16Array(b,B[1][0],B[1][1] >> 1),
                                        B = new Int8Array(b,B[2][0],B[2][1]),
                                        mb(e, [D, y, x, z], m, t, 2, !0, r, B, 0, I[0], I[1])
                        }
                }
            }
    }
    if (q) {
        var P = {
            type: "line",
            data: [jb(), kb()]
        };
        nb()
    }
    return 0 < A._get_block_vertex_count() ? (Ya || (Ya = A._get_block_vertex_start()),
        b = new Float32Array(ya.slice(Ya, A._get_block_vertex_end())),
    Xa || (Xa = A._get_block_index_start()),
        a = new Uint16Array(ya.slice(Xa, A._get_block_index_end())),
        b = {
            vertex: b,
            index: a
        },
        A._reset_block(),
    q && (b.border = P),
        b) : null
}
function Wc(b) {
    var a = new ArrayBuffer(b.length / 8 * 20)
        , c = new Float32Array(a);
    a = new Uint8Array(a);
    for (var q = 0, h = 12, f = 4, g = 0; g < b.length; g += 8)
        c[q] = b[g],
            c[q + 1] = b[g + 1],
            c[q + 2] = b[g + 2] / 100,
            a[h] = b[g + 3],
            a[h + 1] = b[g + 4],
            a[h + 2] = b[g + 5],
            a[h + 3] = b[g + 6],
            c[f] = b[g + 7],
            q += 5,
            h += 20,
            f += 5;
    return c
}
function Sc(b, a, c, q, h) {
    if (!a || !a.length)
        return 0;
    c = c.useZoom;
    for (var f = 0, g = 0, u = 0, w = 0, p = 0; p < a.length; p++) {
        var m = a[p]
            , k = m[0] >> 2;
        if (25 === G[k + 1]) {
            m = R(G[k] + 1, m[0], m[0] + m[1])[0];
            var d = m[0] >> 2;
            k = G[d];
            if ((d = S.b(V, G[d + 1], "polygon3d", c, Y, !1, Z)) && d[0]) {
                d = d[0];
                var v = d.l;
                oc && (v = oc);
                m = R(k + 1, m[0], m[0] + m[1])[0];
                k = R(G[m[0] >> 2] + 1, m[0], m[0] + m[1]);
                m = new Int32Array(b,k[1][0],k[1][1] >> 2);
                f += m.length;
                if (q) {
                    d = new Int32Array(b,k[2][0],k[2][1] >> 2);
                    k = m;
                    for (var r = q, l = w, n = new DataView(r.buffer), t, e = 0; e < k.length; e += 3)
                        t = e / 3 * 7 + l,
                            r[t] = k[e] / 100,
                            r[t + 1] = k[e + 1] / 100,
                            r[t + 2] = k[e + 2] / 100,
                            r[t + 3] = d[e],
                            r[t + 4] = d[e + 1],
                            r[t + 5] = d[e + 2],
                            n.setUint8(4 * t + 24, v[0]),
                            n.setUint8(4 * t + 25, v[1]),
                            n.setUint8(4 * t + 26, v[2]),
                            n.setUint8(4 * t + 27, v[3]);
                    k = [];
                    for (d = 0; d < m.length / 3; d++)
                        k.push(d + g);
                    h.set(k, u);
                    w += m.length / 3 * 7;
                    u += k.length;
                    g += m.length / 3
                }
            }
        }
    }
    return f
}
function Rc(b, a) {
    var c = []
        , q = [];
    a = a.useZoom;
    for (var h = 0; h < b.length; h++) {
        var f = b[h]
            , g = f[0] >> 2;
        if (24 === G[g + 1]) {
            g = R(G[g] + 1, f[0], f[0] + f[1])[0];
            f = g[0] >> 2;
            var u = G[f];
            if ((f = S.b(V, G[f + 1], "polygon3d", a, Y, !1, Z)) && f[0])
                for (f = f[0],
                         f = f.l,
                     pc && (f = pc),
                         g = R(u + 1, g[0], g[0] + g[1]),
                         u = 0; u < g.length; u++) {
                    var w = g[u][0] / 4
                        , p = c
                        , m = q
                        , k = c.length / 10
                        , d = G[w + 1] / 100
                        , v = G[w + 2] / 100
                        , r = G[w + 3] / 100
                        , l = G[w + 4] / 100
                        , n = f[0]
                        , t = f[1]
                        , e = f[2];
                    for (w = 0; 360 >= w; w += 36) {
                        var D = Math.cos(w * Math.PI / 180) * v + r
                            , y = Math.sin(w * Math.PI / 180) * v + l
                            , x = D + r
                            , z = y + l;
                        p.push(D, y, 0, x, z, 0, n, t, e, 255);
                        p.push(D, y, d, x, z, 0, n, t, e, 255)
                    }
                    for (w = 0; 10 > w; w++)
                        p = 2 * w + k,
                            m.push(p, p + 2, p + 3),
                            m.push(p, p + 3, p + 1)
                }
        }
    }
    if (0 < c.length) {
        b = c.length / 10;
        a = new Float32Array(7 * b);
        h = new DataView(a.buffer);
        for (g = 0; g < b; g++)
            f = 7 * g,
                a[f] = c[10 * g],
                a[f + 1] = c[10 * g + 1],
                a[f + 2] = c[10 * g + 2],
                a[f + 3] = c[10 * g + 3],
                a[f + 4] = c[10 * g + 4],
                a[f + 5] = c[10 * g + 5],
                h.setUint8(4 * f + 24, c[10 * g + 6]),
                h.setUint8(4 * f + 25, c[10 * g + 7]),
                h.setUint8(4 * f + 26, c[10 * g + 8]),
                h.setUint8(4 * f + 27, c[10 * g + 9]);
        c = {
            vertex: a,
            index: new Uint16Array(q)
        }
    } else
        c = null;
    return c
}
;
</script>
</body>
</html>